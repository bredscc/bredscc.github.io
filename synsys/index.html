<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="SYNSYS: Synonym System - Brenda Cabral Chaves" />
  <title>SYNSYS | Brecketline Portfolio</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <link rel="icon" type="image/png" href="../assets/synsys.jpg" />

  <style>
    :root {
      --primary: #2ab6c6;
      --primary-dark: #1e8793;
      --bg: #f5f7fa;
      --bg-glass: rgba(255, 255, 255, 0.7);
      --text: #1a1a1a;
      --text-light: #666;
      --radius: 14px;
      --shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
      --blur: blur(14px);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #121216;
        --bg-glass: rgba(20, 22, 28, 0.7);
        --text: #e0e0e0;
        --text-light: #9aa0b2;
        --shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
      }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }

    #network-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1; 
      background-color: transparent;
    }

    header {
      backdrop-filter: var(--blur);
      background: var(--bg-glass);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .nav {
      max-width: 1200px;
      margin: auto;
      padding: 15px 25px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav .nav-links {
      display: flex;
      gap: 30px;
      list-style: none;
    }

    .nav .nav-links a {
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
      transition: 0.3s;
      padding: 5px 0;
    }

    .nav .nav-links a:hover {
      color: var(--primary);
    }


    .synsys-section {
      padding: 70px 20px 100px;
      position: relative;
      z-index: 1;
    }

    .synsys-container {
      max-width: 850px;
      margin: auto;
      background: var(--bg-glass);
      backdrop-filter: var(--blur);
      padding: 40px 35px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,0.15); 
      animation: fadeIn 0.8s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to   { opacity: 1; transform: translateY(0); }
    }


    .synsys-title {
      text-align: center;
      margin-bottom: 35px;
    }

    .synsys-title h1 {
      font-size: 2.4em;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .synsys-title p {
      color: var(--text-light);
      font-size: 1.05em;
    }

    .info-box {
      padding: 18px 22px;
      background: rgba(42, 182, 198, 0.07);
      border-left: 4px solid var(--primary);
      border-radius: var(--radius);
      margin-bottom: 35px;
      font-size: 0.95em;
    }
    
    .info-box strong {
        color: var(--primary-dark);
    }


    #texto-entrada-synsys {
      width: 100%;
      min-height: 230px;
      padding: 18px;
      font-size: 16px;
      border-radius: var(--radius);
      border: 1px solid rgba(150,150,150,0.3);
      background: var(--bg);
      transition: 0.25s;
      color: var(--text);
      resize: vertical;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.08);
    }

    #texto-entrada-synsys:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(42, 182, 198, 0.3); 
    }


    .synsys-button {
      width: 100%; 
      margin-top: 20px;
      padding: 15px 32px;
      background: var(--primary);
      border: none;
      color: white;
      font-size: 1.05em;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(42, 182, 198, 0.35);
      transition: 0.25s ease;
    }

    .synsys-button:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(42, 182, 198, 0.45);
    }

    .synsys-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }


    #loading {
      margin-top: 20px;
      padding: 10px;
      text-align: center;
      font-weight: 600;
      color: var(--primary);
      background: rgba(42, 182, 198, 0.1);
      border-radius: var(--radius);
      display: none;
      border: 1px dashed var(--primary);
    }


    .tabela-synsys {
      width: 100%;
      margin-top: 40px;
      border-collapse: collapse;
      border-radius: var(--radius);
      overflow: hidden;
      background: var(--bg);
      box-shadow: var(--shadow);
    }

    .tabela-synsys th {
      background: var(--primary);
      color: white;
      text-transform: uppercase;
      font-size: 0.85em;
      letter-spacing: 0.5px;
      font-weight: 700;
    }

    .tabela-synsys th,
    .tabela-synsys td {
      padding: 15px;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }

    .tabela-synsys tr:nth-child(even) {
        background: rgba(255,255,255,0.05);
    }

    .tabela-synsys tr:last-child td {
      border-bottom: none;
    }

    @media (prefers-color-scheme: dark) {
        .tabela-synsys th, .tabela-synsys td {
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .tabela-synsys tr:nth-child(even) {
            background: rgba(255,255,255,0.02);
        }
    }


    footer {
      text-align: center;
      padding: 35px 0;
      color: var(--text-light);
      margin-top: 50px;
      font-size: 0.9em;
      position: relative;
      z-index: 1;
    }

    footer .socials img {
      width: 24px;
      opacity: 0.7;
      transition: 0.3s;
      filter: grayscale(100%);
      margin: 0 5px;
    }

    footer .socials img:hover {
      opacity: 1;
      filter: grayscale(0%);
    }

    @media (max-width: 600px) {
        .nav .nav-links {
            display: none;
        }
        .nav {
            justify-content: center;
        }
        .synsys-container {
            padding: 20px 15px;
        }
        .synsys-title h1 {
            font-size: 1.8em;
        }
        .synsys-button {
            padding: 12px 20px;
        }
        .tabela-synsys, .tabela-synsys thead, .tabela-synsys tbody, .tabela-synsys th, .tabela-synsys td, .tabela-synsys tr {
            display: block;
        }
        .tabela-synsys thead {
            display: none;
        }
        .tabela-synsys tr {
            margin-bottom: 15px;
            border: 1px solid rgba(0,0,0,0.15);
            border-radius: 8px;
        }
        .tabela-synsys td {
            text-align: right;
            padding-left: 50%;
            position: relative;
        }
        .tabela-synsys td:before {
            content: attr(data-label);
            position: absolute;
            left: 10px;
            width: 45%;
            padding-right: 10px;
            white-space: nowrap;
            text-align: left;
            font-weight: 600;
            color: var(--primary);
        }
    }

  </style>
</head>
<body>

<canvas id="network-canvas" aria-hidden="true"></canvas>

<header>
  <nav class="nav">
    <a href="../">
      <img src="../assets/synsys.jpg" width="120" alt="Logo">
    </a>

    <ul class="nav-links">
      <li><a href="../#home" data-key="home">Home</a></li>
      <li><a href="../#projects" data-key="projects">Projetos</a></li>
      <li><a href="../#about" data-key="about">Sobre</a></li>
      <li><a href="mailto:brecketline@gmail.com" data-key="contact">Contato</a></li>
    </ul>
  </nav>
</header>

<main class="synsys-section">
  <div class="synsys-container">

    <div class="synsys-title">
      <h1>SynSys: Synonym System </h1>
      <p>Processamento de Linguagem Natural (PLN) • Lematização • Sugestão de Sinônimos</p>
    </div>

    <div class="info-box">
      Este projeto utiliza <strong>Python + Flask</strong> e <strong>spaCy</strong> para identificar
      padrões linguísticos, eliminar stopwords, aplicar lematização e sugerir sinônimos.
      O backend está publicado em um serviço de API.
    </div>

    <textarea id="texto-entrada-synsys" placeholder="Digite ou cole seu texto para análise..."></textarea>

    <button class="synsys-button" onclick="analisarTexto()">Analisar Texto</button>

    <div id="loading">Analisando... Aguarde.</div>

    <div id="resultados-synsys"></div>

  </div>
</main>

<footer>
  <p>&copy; 2025 brecketline - SYNSYS Project</p>
  <div class="socials">
    <a href="https://github.com/bredscc/synsys-text-analyzer" target="_blank" title="Ver no GitHub (Backend)">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg">
    </a>
  </div>
</footer>

<script>
    const API_URL = 'https://synsys-api.onrender.com/analisar';

    async function analisarTexto() {
        const textoInput = document.getElementById('texto-entrada-synsys');
        const resultadosDiv = document.getElementById('resultados-synsys');
        const loadingDiv = document.getElementById('loading');
        const btn = document.querySelector('.synsys-button');
        
        resultadosDiv.innerHTML = ''; 
        loadingDiv.style.display = 'block'; 
        btn.disabled = true;

        try {
            const response = await fetch(API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ texto: textoInput.value })
            });

            loadingDiv.style.display = 'none'; 
            btn.disabled = false; 

            if (!response.ok) {
                const errorData = await response.json();
                resultadosDiv.innerHTML = `<p style="color: red; margin-top: 20px;">Erro: ${errorData.erro || 'Falha na resposta da API.'}</p>`;
                return;
            }

            const data = await response.json();
            exibirResultadosNaTela(data.resultados);

        } catch (error) {
            loadingDiv.style.display = 'none';
            btn.disabled = false;
            resultadosDiv.innerHTML = `<p style="color: red; margin-top: 20px;">Erro de Conexão. Verifique o console para detalhes técnicos e se a API no Render está ativa.</p>`;
            console.error('Falha na conexão:', error);
        }
    }

    function exibirResultadosNaTela(resultados) {
        const resultadosDiv = document.getElementById('resultados-synsys');
        
        if (resultados.length === 0 || !Array.isArray(resultados) || resultados.every(r => r.frequencia <= 1)) {
            resultadosDiv.innerHTML = `<p style="margin-top: 20px; color: var(--text-light);">
                Nenhuma palavra significativa repetida (além de artigos, verbos conjugados, etc.) ou com baixa frequência foi encontrada.
            </p>`;
            return;
        }

        let tabelaHTML = '<table class="tabela-synsys"><thead><tr><th>Palavra Original (Lema)</th><th>Frequência</th><th>Sinônimos Sugeridos</th></tr></thead><tbody>';

        resultados.forEach(item => {
            tabelaHTML += `
                <tr>
                    <td data-label="Palavra Original"><strong>${item.palavra}</strong></td>
                    <td data-label="Frequência">${item.frequencia}</td>
                    <td data-label="Sinônimos Sugeridos">${item.sinonimos}</td>
                </tr>
            `;
        });

        tabelaHTML += '</tbody></table>';
        resultadosDiv.innerHTML = tabelaHTML;
    }
</script>

<script src="../script.js"></script>

</body>
</html>